{"version":3,"file":"2-cat-info.js","sources":["../src/js/cat-info/cat-api.js","../src/js/cat-info/render-functions.js","../src/js/cat-info/cat-info-main.js"],"sourcesContent":["import axios from 'axios';\n\nconst myApiKey =\n  'live_ gCrMzxVedQewgspyzOBQIG2uzIc7uX ZZLlOa2KWOyd9IsmmF2onJcOmaXJlO sQfP';\n\naxios.defaults.headers.common['x-api-key'] = myApiKey;\n\nfunction fetchBreeds() {\n  return axios.get('https://api.thecatapi.com/v1/breeds').then(response => {\n    return response.data;\n  });\n}\n\nfunction fetchBreedInfo(breedId) {\n  return axios\n    .get(`https://api.thecatapi.com/v1/breeds/${breedId}`)\n    .then(response => {\n      return response.data;\n    });\n}\n\nfunction fetchCatByBreed(breedId) {\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => {\n      return response;\n    });\n}\n\nexport { fetchBreeds, fetchBreedInfo, fetchCatByBreed };\n","import { fetchBreedInfo } from './cat-api';\n\nconst loaderEl = document.querySelector('.loader');\n\nfunction createSelect(breeds, breedSelect) {\n  breedSelect.classList.remove('is-hidden');\n\n  breeds.forEach(breed => {\n    const option = document.createElement('option');\n    option.value = breed.id;\n    option.textContent = breed.name;\n    breedSelect.appendChild(option);\n  });\n}\n\nfunction createInfo(card, breedSelect, infoContainer, iziToastOptions) {\n  const cat = card.data[0];\n\n  fetchBreedInfo(breedSelect.value)\n    .then(breed => {\n      if (!breed) {\n        infoContainer.innerHTML = `<p>Информация о породе недоступна.</p>`;\n        return;\n      }\n\n      const cardMarkup = `\n<div class=\"cat-card\">\n  <img src=\"${cat.url}\" alt=\"${breed.name}\" class=\"cat-img\" />\n  <div class=\"cat-description\">\n    <h2>${breed.name}</h2>\n    <p><strong>Temperament:</strong> ${breed.temperament}</p>\n    <p><strong>Description:</strong> ${breed.description}</p>\n  </div>\n</div>\n    `;\n      infoContainer.classList.remove('is-hidden');\n      infoContainer.innerHTML = cardMarkup;\n    })\n    .catch(error => {\n      iziToastOptions(error);\n    });\n}\n\n// Функция отображения Loader\nfunction showLoader() {\n  loaderEl.classList.add('active');\n}\n\n// Функция скрывания Loader\nfunction hideLoader() {\n  loaderEl.classList.remove('active');\n}\n\nexport { createSelect, createInfo, showLoader, hideLoader };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport {\n  createSelect,\n  createInfo,\n  showLoader,\n  hideLoader,\n} from './render-functions';\nimport '../../css/styles.css';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst infoContainer = document.querySelector('.cat-info');\n\nbreedSelect.addEventListener('change', onbreedSelect);\n\nbreedSelect.classList.add('is-hidden');\nshowLoader();\n\nfetchBreeds()\n  .then(response => {\n    createSelect(response, breedSelect);\n  })\n  .catch(error => {\n    iziToastOptions(error);\n    breedSelect.classList.add('is-hidden');\n  })\n  .finally(() => {\n    // Скрываем Loader\n    hideLoader();\n  });\n\nfunction onbreedSelect() {\n  infoContainer.classList.add('is-hidden');\n\n  showLoader();\n\n  const selectedCatId = breedSelect.value;\n\n  fetchCatByBreed(selectedCatId)\n    .then(response => {\n      createInfo(response, breedSelect, infoContainer, iziToastOptions);\n    })\n    .catch(error => {\n      iziToastOptions(error);\n      // console.log(error);\n    })\n    .finally(() => {\n      // Скрываем Loader\n      hideLoader();\n    });\n}\n\n// Опции подключенного через библиотеку alert\nfunction iziToastOptions() {\n  return iziToast.show({\n    message: 'Oops! Something went wrong! Try reloading the page!',\n    messageColor: 'white',\n    backgroundColor: 'red',\n    icon: '\tfa fa-ban',\n    iconColor: '#8b0000',\n    position: 'topRight',\n  });\n}\n"],"names":["myApiKey","axios","fetchBreeds","response","fetchBreedInfo","breedId","fetchCatByBreed","loaderEl","createSelect","breeds","breedSelect","breed","option","createInfo","card","infoContainer","iziToastOptions","cat","cardMarkup","error","showLoader","hideLoader","onbreedSelect","selectedCatId","iziToast"],"mappings":"2FAEA,MAAMA,EACJ,2EAEFC,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAID,EAE7C,SAASE,GAAc,CACrB,OAAOD,EAAM,IAAI,qCAAqC,EAAE,KAAKE,GACpDA,EAAS,IACjB,CACH,CAEA,SAASC,EAAeC,EAAS,CAC/B,OAAOJ,EACJ,IAAI,uCAAuCI,CAAO,EAAE,EACpD,KAAKF,GACGA,EAAS,IACjB,CACL,CAEA,SAASG,EAAgBD,EAAS,CAChC,OAAOJ,EACJ,IAAI,wDAAwDI,CAAO,EAAE,EACrE,KAAKF,GACGA,CACR,CACL,CCzBA,MAAMI,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,EAAaC,EAAQC,EAAa,CACzCA,EAAY,UAAU,OAAO,WAAW,EAExCD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BD,EAAY,YAAYE,CAAM,CAClC,CAAG,CACH,CAEA,SAASC,EAAWC,EAAMJ,EAAaK,EAAeC,EAAiB,CACrE,MAAMC,EAAMH,EAAK,KAAK,CAAC,EAEvBV,EAAeM,EAAY,KAAK,EAC7B,KAAKC,GAAS,CACb,GAAI,CAACA,EAAO,CACVI,EAAc,UAAY,yCAC1B,MACR,CAEM,MAAMG,EAAa;AAAA;AAAA,cAEXD,EAAI,GAAG,UAAUN,EAAM,IAAI;AAAA;AAAA,UAE/BA,EAAM,IAAI;AAAA,uCACmBA,EAAM,WAAW;AAAA,uCACjBA,EAAM,WAAW;AAAA;AAAA;AAAA,MAIlDI,EAAc,UAAU,OAAO,WAAW,EAC1CA,EAAc,UAAYG,CAC3B,CAAA,EACA,MAAMC,GAAS,CACdH,EAAgBG,CAAK,CAC3B,CAAK,CACL,CAGA,SAASC,GAAa,CACpBb,EAAS,UAAU,IAAI,QAAQ,CACjC,CAGA,SAASc,GAAa,CACpBd,EAAS,UAAU,OAAO,QAAQ,CACpC,CCvCA,MAAMG,EAAc,SAAS,cAAc,eAAe,EACpDK,EAAgB,SAAS,cAAc,WAAW,EAExDL,EAAY,iBAAiB,SAAUY,CAAa,EAEpDZ,EAAY,UAAU,IAAI,WAAW,EACrCU,EAAY,EAEZlB,EAAW,EACR,KAAKC,GAAY,CAChBK,EAAaL,EAAUO,CAAW,CACnC,CAAA,EACA,MAAMS,GAAS,CACdH,EAAqB,EACrBN,EAAY,UAAU,IAAI,WAAW,CACtC,CAAA,EACA,QAAQ,IAAM,CAEbW,EAAY,CAChB,CAAG,EAEH,SAASC,GAAgB,CACvBP,EAAc,UAAU,IAAI,WAAW,EAEvCK,EAAY,EAEZ,MAAMG,EAAgBb,EAAY,MAElCJ,EAAgBiB,CAAa,EAC1B,KAAKpB,GAAY,CAChBU,EAAWV,EAAUO,EAAaK,EAAeC,CAAe,CACjE,CAAA,EACA,MAAMG,GAAS,CACdH,EAAqB,CAEtB,CAAA,EACA,QAAQ,IAAM,CAEbK,EAAY,CAClB,CAAK,CACL,CAGA,SAASL,GAAkB,CACzB,OAAOQ,EAAS,KAAK,CACnB,QAAS,sDACT,aAAc,QACd,gBAAiB,MACjB,KAAM,aACN,UAAW,UACX,SAAU,UACd,CAAG,CACH"}