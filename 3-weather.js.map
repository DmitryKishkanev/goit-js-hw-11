{"version":3,"file":"3-weather.js","sources":["../src/js/weather/weather-api.js","../src/js/weather/weather-main.js"],"sourcesContent":["export function fetchWeather(city, days) {\n  const BASE_URL = 'http://api.weatherapi.com/v1';\n  const API_KEY = 'b33a3ee3df124911b63162045252805';\n\n  return fetch(\n    `${BASE_URL}/forecast.json?key=${API_KEY}&q=${city}&days=${days}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n}\n","import { fetchWeather } from './weather-api';\nimport '../../css/styles.css';\n\nconst search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\n\nsearch.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  const { query, days } = evt.currentTarget.elements;\n  fetchWeather(query.value, days.value)\n    .then(data => (list.innerHTML = createMarkup(data.forecast.forecastday)))\n    .catch(err => console.log(err));\n}\n\n// fetchWeather('Paris', 5)\n//   .then(data => console.log(data))\n//   .catch(err => console.log(err));\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        date,\n        day: {\n          avgtemp_c,\n          condition: { icon, text },\n        },\n      }) => `<li>\n        <img src=\"${icon}\" alt=\"${text}\" />\n        <p>${text}</p>\n        <h2>${date}</h2>\n        <h3>${avgtemp_c}</h3>\n      </li>`\n    )\n    .join('');\n}\n"],"names":["fetchWeather","city","days","response","search","list","onSearch","evt","query","data","createMarkup","err","arr","date","avgtemp_c","icon","text"],"mappings":"oCAAO,SAASA,EAAaC,EAAMC,EAAM,CAIvC,OAAO,MACL,oFAA8CD,CAAI,SAASC,CAAI,EACnE,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,KAAM,CAC1B,CAAG,CACH,CCVA,MAAMC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAE9CD,EAAO,iBAAiB,SAAUE,CAAQ,EAE1C,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAgB,EAEpB,KAAM,CAAE,MAAAC,EAAO,KAAAN,CAAM,EAAGK,EAAI,cAAc,SAC1CP,EAAaQ,EAAM,MAAON,EAAK,KAAK,EACjC,KAAKO,GAASJ,EAAK,UAAYK,EAAaD,EAAK,SAAS,WAAW,CAAE,EACvE,MAAME,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CAMA,SAASD,EAAaE,EAAK,CACzB,OAAOA,EACJ,IACC,CAAC,CACC,KAAAC,EACA,IAAK,CACH,UAAAC,EACA,UAAW,CAAE,KAAAC,EAAM,KAAAC,CAAM,CAC1B,CACT,IAAY;AAAA,oBACQD,CAAI,UAAUC,CAAI;AAAA,aACzBA,CAAI;AAAA,cACHH,CAAI;AAAA,cACJC,CAAS;AAAA,YAEvB,EACK,KAAK,EAAE,CACZ"}